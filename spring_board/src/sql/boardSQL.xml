<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="board">
		<select id="insertArticle" parameterType="tv">
			insert into board values(board_seq.NEXTVAL,#{writer},#{email},#{subject},#{passwd},#{reg_date},#{ref},#{re_step},
			#{re_level},#{content},#{ip},#{orgname},#{newname})
		</select>
		
		<select id="getArticleCount" resultType="int" parameterType="int">
			select count(*) from board
		</select>
		
		<select id="getArticles" resultType="tv" parameterType="list">
			<![CDATA[
			select num,writer,email,subject,passwd,reg_date,ref,re_step,re_level,content,ip,readcount,r
			from (select num,writer,email,subject,passwd,reg_date,ref,re_step,re_level,content,ip,readcount,rownum r
			from (select num,writer,email,subject,passwd,reg_date,ref,re_step,re_level,content,ip,readcount
			from board order by ref desc, re_step asc) order by ref desc, re_step asc ) where r >= #{list0} and r <= #{list1}
			]]>
		</select>
	
	
	
	
	
	
	
	</mapper>